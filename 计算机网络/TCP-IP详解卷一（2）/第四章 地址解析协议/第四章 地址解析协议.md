# 第四章 地址解析协议

## ARP协议的目的

链路层进行转发帧时，不仅仅使用IP地址，还要使用硬件设备的物理地址，否则无法传输数据，然而一般情况下，我们只知道目的主机的IP地址，为此，我们需要一种能在IP地址和物理硬件地址进行转换的映射，而ARP（地址解析协议）就提供了这种映射。

PS：地址解析是发现两地址之间映射关系的过程。它是一个通用协议，被设计为支持多种地址之间的映射。但是实际上ARP协议几乎总是用于32位IPv4地址和以太网的48位MAC地址之间的映射。ARP操作通常与用户或系统管理员无关。

## 使用ARP的直接交付过程

直接交付发生在一个IP数据报被发送到一个IP地址，而该地址与发送方具有相同IP前缀的情况下。即发送方和接收方在一个子网下。

考虑一个用户通过web浏览器访问另一台主机的例子，输入如下网址：

    http://10.0.0.1

这个例子的IPv4直接交付过程如下：

1. 在这种情况下，应用程序是一个web浏览器，调用特殊函数来解析URL，看它是否包含主机名，这里使用的是32位IPv4地址`10.0.0.1`。
